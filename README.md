# üìä SQL Projekt: Dostupnost z√°kladn√≠ch potravin a mzdov√Ω v√Ωvoj v ƒåR

## 1Ô∏è‚É£ √övod do projektu
Tento projekt vznikl v r√°mci studia SQL (ENGETO) a jeho c√≠lem je:
- analyzovat dostupnost z√°kladn√≠ch potravin v ƒåR v kontextu pr≈Ømƒõrn√Ωch p≈ô√≠jm≈Ø,
- porovnat cenov√Ω a mzdov√Ω v√Ωvoj za vybran√© obdob√≠,
- doplnit srovn√°n√≠ z dat evropsk√Ωch st√°t≈Ø

---

## 2Ô∏è‚É£ Pou≈æit√° data

### Prim√°rn√≠ zdroje
- **Mzdov√° data** (czechia_payroll) ‚Äì informace o mzd√°ch v r≈Øzn√Ωch odvƒõtv√≠ch za nƒõkolik let. *Zdroj: Open data z data.gov.cz, ≈ò√≠jen 2021.*
- **Cenov√° data** (czechia_price) ‚Äì informace o cen√°ch vybran√Ωch potravin za nƒõkolik let. *Zdroj: Open data z data.gov.cz, ≈ò√≠jen 2021.*
- ƒå√≠seln√≠ky kategori√≠ potravin, odvƒõtv√≠ a dal≈°√≠ch pomocn√Ωch dat pro propojen√≠.

### Dodateƒçn√© zdroje
- Tabulka `countries` ‚Äì z√°kladn√≠ √∫daje o zem√≠ch. *Zdroj: Datab√°ze Engeto.*
- Tabulka `economies` ‚Äì ukazatele HDP, GINI, da≈àov√° z√°tƒõ≈æ atd. pro evropsk√© st√°ty. *Zdroj: Datab√°ze Engeto.*

> **Pozn√°mka:** Data nebyla mƒõnƒõna v p≈Øvodn√≠ch tabulk√°ch. V≈°echny transformace prob√≠haly a≈æ p≈ôi tvorbƒõ nov√Ωch tabulek.

---

## 3Ô∏è‚É£ Struktura projektu a metodologie

```plaintext
sql-food-prices-salaries-project/
‚îÇ
‚îú‚îÄ‚îÄ sql/
‚îÇ   ‚îú‚îÄ‚îÄ 01_create_primary_final.sql          # Sjednocen√≠ mzdov√Ωch a cenov√Ωch dat pro ƒåR
‚îÇ   ‚îú‚îÄ‚îÄ 02_create_secondary_final.sql        # Evropsk√© st√°ty - HDP, GINI, populace
‚îÇ   ‚îú‚îÄ‚îÄ Q1_price_trends.sql                  # Odpovƒõƒè na ot√°zku 1
‚îÇ   ‚îú‚îÄ‚îÄ Q2_bread_meat_affordability.sql      # Odpovƒõƒè na ot√°zku 2
‚îÇ   ‚îú‚îÄ‚îÄ Q3_slowest_price_growth.sql          # Odpovƒõƒè na ot√°zku 3
‚îÇ   ‚îú‚îÄ‚îÄ Q4_food_vs_wage_growth.sql           # Odpovƒõƒè na ot√°zku 4
‚îÇ   ‚îú‚îÄ‚îÄ Q5_gdp_influence.sql                 # Odpovƒõƒè na ot√°zku 5
‚îÇ
‚îî‚îÄ‚îÄ README.md
```
---

**Sch√©ma tvorby z√°kladn√≠ datov√© sady**
```plaintext
+----------------------+          +----------------------+
|   CZECHIA_PAYROLL    |          |    CZECHIA_PRICE     |
|----------------------|          |----------------------|
| id                   |          | id                   |
| value                |          | value                |
| value_type_code      |          | category_code        |
| unit_code            |          | date_from            |
| calculation_code     |          | date_to              |
| industry_branch_code |          | region_code          |
| payroll_year         |          |                      |
| payroll_quarter      |          |                      |
+----------------------+          +----------------------+
   | (filtr pr≈Ømƒõrn√° mzda,           | (datum p≈ôeveden na rok,
   | jednotka tis. osob,             | odstranƒõny kvart√°ly (vyskytovaly se pouze Q1/Q4),
   | p≈ôepoƒçteno na FTE,              | regiony zpr≈Ømƒõrov√°ny na celorepubliku)
   | omezen√≠ 2006‚Äì2018)              | 
   v                                 v
+----------------------+          +----------------------+
| v_payroll_basic_view |          | v_price_data_format  |
|----------------------|          |----------------------|
| id_pay               |          | id_cp                |
| value_pay            |          | value_cp             |
| industry_branch_code |          | category_code        |
| rok                  |          | rok                  |
+----------------------+          +----------------------+
   | (pr≈Ømƒõrov√°n√≠ kvart√°ln√≠ch        | (pr≈Ømƒõrov√°n√≠ region√°ln√≠ch
   | hodnot na roƒçn√≠)                | hodnot na celorepublikov√©)
   v                                 v
+----------------------+          +----------------------+
| v_payroll_no_quarter |          | v_price_region_avg   |
|----------------------|          |----------------------|
| value_pay            |          | value_cp             |
| industry_branch_code |          | category_code        |
| rok                  |          | rok                  |
+----------------------+          +----------------------+
   | (doplnƒõn√≠ custom ID)            | (doplnƒõn√≠ custom ID)
   v                                 v
+----------------------+          +----------------------+
| v_payroll_id_column_ |          | v_price_id_column_   |
| addition             |          | addition             |
|----------------------|          |----------------------|
| custom_id_pay        |          | custom_id_cp         |
| value_pay            |          | value_cp             |
| industry_branch_code |          | category_code        |
| rok                  |          | rok                  |
+----------------------+          +----------------------+
          \                                /
           \                              /
            \       FULL OUTER JOIN      /
             \--------------------------/
                          |
                          v
+--------------------------------------------------+
| t_Ondrej_Romaniuk_project_SQL_primary_final      |
|--------------------------------------------------|
| custom_id_pay                                    |
| value_pay                                        |
| industry_branch_code                             |
| rok                                              |
| custom_id_cp                                     |
| category_code                                    |
| value_cp                                         |
+--------------------------------------------------+
(Payroll m√° m√©nƒõ hodnot ne≈æ Price kv≈Øli men≈°√≠mu poƒçtu kategori√≠)

```
---

## 4Ô∏è‚É£ V√Ωzkumn√© ot√°zky a shrnut√≠ odpovƒõd√≠

### Q1 ‚Äì R≈Øst cen v jednotliv√Ωch letech a odvƒõtv√≠ch
*Rostou v pr≈Øbƒõhu let mzdy ve v≈°ech odvƒõtv√≠ch, nebo v nƒõkter√Ωch klesaj√≠?*

**Shrnut√≠ v√Ωsledk≈Ø:**  
*P≈ôi srovn√°n√≠ dat poƒç√°teƒçn√≠ch a koneƒçn√Ωch let z dostupn√© ƒçasov√© ≈ôady vyplynulo, ≈æe mzdy vzrostly ve v≈°ech defaultnƒõ nastaven√Ωch pracovn√≠ch odvƒõtv√≠ch.*

---

### Q2 ‚Äì Kupn√≠ s√≠la (kolik kg chleba a kg masa lze koupit)
*Kolik je mo≈æn√© si koupit litr≈Ø ml√©ka a kilogram≈Ø chleba za prvn√≠ a posledn√≠ srovnateln√© obdob√≠ v dostupn√Ωch datech cen a mezd?*

**Shrnut√≠ v√Ωsledk≈Ø:**  
*Na z√°kladƒõ propojen√≠ mezd a cen potravin lze sledovat, kolik kilogram≈Ø chleba a litr≈Ø ml√©ka bylo mo≈æn√© si koupit na zaƒç√°tku sledovan√©ho obdob√≠ (rok 2006) a kolik na jeho konci (rok 2018).*

**Kupn√≠ s√≠la mezd (chleba a ml√©ko, 2006 vs. 2018)**
```plaintext
Odvƒõtv√≠                                           | Chl√©b 2006 (kg) | Chl√©b 2018 (kg) | Rozd√≠l chl√©b (kg) | Ml√©ko 2006 (l) | Ml√©ko 2018 (l) | Rozd√≠l ml√©ko (l)
-------------------------------------------------------------------------------------------------------------------------------
A  Zemƒõdƒõlstv√≠, lesnictv√≠, ryb√°≈ôstv√≠              |  919.22         | 1050.61         | +131.39           | 1026.16        | 1284.90        | +258.74
B  Tƒõ≈æba a dob√Ωv√°n√≠                               | 1492.97         | 1486.76         |  -6.21            | 1666.67        | 1818.31        | +151.64
C  Zpracovatelsk√Ω pr≈Ømysl                         | 1146.51         | 1315.57         | +169.06           | 1279.90        | 1608.96        | +329.06
D  V√Ωroba a rozvod elekt≈ôiny, plynu, tepla...     | 1812.11         | 1913.14         | +101.03           | 2022.94        | 2339.78        | +316.84
E  Z√°sobov√°n√≠ vodou; odpady a sanace              | 1162.50         | 1184.99         |  +22.49           | 1297.75        | 1449.26        | +151.51
F  Stavebnictv√≠                                   | 1107.34         | 1161.98         |  +54.64           | 1236.17        | 1421.12        | +184.95
G  Velkoobchod a maloobchod                       | 1130.43         | 1236.60         | +106.17           | 1261.95        | 1512.37        | +250.42
H  Doprava a skladov√°n√≠                           | 1194.59         | 1215.33         |  +20.74           | 1333.57        | 1486.35        | +152.78
I  Ubytov√°n√≠, stravov√°n√≠ a pohostinstv√≠           |  724.21         |  794.95         |  +70.74           |  808.47        |  972.23        | +163.76
J  Informaƒçn√≠ a komunikaƒçn√≠ ƒçinnosti              | 2220.41         | 2340.25         | +119.84           | 2478.74        | 2862.15        | +383.41
K  Penƒõ≈ænictv√≠ a poji≈°≈•ovnictv√≠                   | 2483.06         | 2264.16         | -218.90           | 2771.95        | 2769.08        |  -2.87
L  ƒåinnosti v oblasti nemovitost√≠                 | 1193.67         | 1159.61         |  -34.06           | 1332.55        | 1418.21        |  +85.66
M  Profesn√≠, vƒõdeck√© a technick√© ƒçinnosti         | 1528.85         | 1608.29         |  +79.44           | 1706.72        | 1966.95        | +260.23
N  Administrativn√≠ a podp≈Ørn√© ƒçinnosti            |  896.03         |  864.42         |  -31.61           | 1000.28        | 1057.19        |  +56.91
O  Ve≈ôejn√° spr√°va a obrana                        | 1444.45         | 1498.07         |  +53.62           | 1612.50        | 1832.15        | +219.65
P  Vzdƒõl√°v√°n√≠                                     | 1242.54         | 1297.13         |  +54.59           | 1387.10        | 1586.40        | +199.30
Q  Zdravotn√≠ a soci√°ln√≠ p√©ƒçe                      | 1181.23         | 1397.00         | +215.77           | 1318.66        | 1708.54        | +389.88
R  Kulturn√≠, z√°bavn√≠ a rekreaƒçn√≠ ƒçinnosti         | 1043.87         | 1171.57         | +127.70           | 1165.32        | 1432.83        | +267.51
S  Ostatn√≠ ƒçinnosti                               | 1022.57         |  977.58         |  -44.99           | 1141.53        | 1195.59        |  +54.06
```

*Z dat vypl√Ωv√°, ≈æe ve vƒõt≈°inƒõ odvƒõtv√≠ do≈°lo ke zlep≈°en√≠ kupn√≠ s√≠ly ‚Äì zamƒõstnanci si mohli v roce 2018 dovolit za svou mzdu po≈ô√≠dit v√≠ce chleba i ml√©ka ne≈æ v roce 2006. Nejvƒõt≈°√≠ n√°r≈Øst je patrn√Ω u ml√©ka, kde rozd√≠l ƒçin√≠ ƒçasto stovky litr≈Ø nav√≠c.*

*Naopak v nƒõkter√Ωch odvƒõtv√≠ch, nap≈ô√≠klad penƒõ≈ænictv√≠ a poji≈°≈•ovnictv√≠ (K) nebo administrativn√≠ ƒçinnosti (N), kupn√≠ s√≠la v p≈ô√≠padƒõ chleba dokonce poklesla. U ml√©ka byl pokles minim√°ln√≠, sp√≠≈°e stagnace.*

*Celkovƒõ lze tedy shrnout, ≈æe kupn√≠ s√≠la obyvatel rostla, ale rozd√≠ly mezi odvƒõtv√≠mi jsou v√Ωrazn√© ‚Äì nejl√©pe si vedly informaƒçn√≠ technologie, zdravotnictv√≠ nebo ve≈ôejn√Ω sektor, zat√≠mco ƒç√°st slu≈æeb a administrativn√≠ profese sp√≠≈°e stagnovaly.*

*Tento v√Ωvoj dokl√°d√°, ≈æe r≈Øst mezd p≈ôedƒçil r≈Øst cen potravin, i kdy≈æ nerovnomƒõrnƒõ podle oboru.*

---

### Q3 ‚Äì Nejpomalej≈°√≠ r≈Øst cen
*Kter√° kategorie potravin zdra≈æuje nejpomaleji (je u n√≠ nejni≈æ≈°√≠ percentu√°ln√≠ meziroƒçn√≠ n√°r≈Øst)?*

**Shrnut√≠ v√Ωsledk≈Ø:**  
*Nejpomaleji zdra≈æuj√≠c√≠ kategori√≠ jsou **rajsk√° jablka ƒçerven√° kulat√°**, kter√° v roce 2007 meziroƒçnƒõ dokonce **zlevnila o 30,28‚ÄØ%**. To ukazuje, ≈æe i v r√°mci obecn√©ho r≈Østu cen potravin mohou nƒõkter√© produkty zaznamenat v√Ωrazn√Ω pokles, pravdƒõpodobnƒõ vlivem sez√≥nn√≠ch nebo tr≈æn√≠ch faktor≈Ø.*

---

### Q4 ‚Äì Roky s r≈Østem cen >10 % oproti mzd√°m
*Existuje rok, ve kter√©m byl meziroƒçn√≠ n√°r≈Øst cen potravin v√Ωraznƒõ vy≈°≈°√≠ ne≈æ r≈Øst mezd (vƒõt≈°√≠ ne≈æ 10 %)?*

**Shrnut√≠ v√Ωsledk≈Ø:**  
*Podle dat ≈æ√°dn√Ω rok nevykazuje meziroƒçn√≠ n√°r≈Øst cen potravin v√Ωraznƒõ vy≈°≈°√≠ ne≈æ r≈Øst mezd o v√≠ce ne≈æ 10‚ÄØ%.*

*Nejvy≈°≈°√≠ hodnota rozd√≠lu je v roce **2013**, kdy ceny potravin rostly meziroƒçnƒõ o **5,10‚ÄØ%**, mzdy klesly o **1,49‚ÄØ%**, co≈æ d√°v√° rozd√≠l **6,59‚ÄØ%**. I p≈ôesto je rozd√≠l ni≈æ≈°√≠ ne≈æ hranice 10‚ÄØ%, tak≈æe ani tento rok nespl≈àuje krit√©rium ‚Äûv√Ωraznƒõ vy≈°≈°√≠ n√°r≈Øst cen ne≈æ mezd‚Äú.*

---

### Q5 ‚Äì Vliv HDP na ceny a mzdy
*M√° v√Ω≈°ka HDP vliv na zmƒõny ve mzd√°ch a cen√°ch potravin? Neboli, pokud HDP vzroste v√Ωraznƒõji v jednom roce, projev√≠ se to na cen√°ch potravin ƒçi mzd√°ch ve stejn√©m nebo n√°sleduj√≠c√≠m roce v√Ωraznƒõj≈°√≠m r≈Østem?*

**Shrnut√≠ v√Ωsledk≈Ø:**  
*V√Ωraznƒõj≈°√≠ r≈Øst HDP se obecnƒõ projevuje zv√Ω≈°en√≠m mezd, co≈æ zvy≈°uje kupn√≠ s√≠lu pracovn√≠k≈Ø. Nap≈ô√≠klad v letech **2007 a 2017**, kdy HDP vzrostlo v√Ωraznƒõji ne≈æ 5‚ÄØ%, rostly mzdy i ceny potravin soubƒõ≈ænƒõ. Naopak v roce **2015**, p≈ôesto≈æe HDP tak√© v√Ωraznƒõ vzrostlo, mzdy rostly, ale ceny potravin stagnovaly ƒçi klesaly. To ukazuje, ≈æe ekonomick√Ω r≈Øst m√° spolehlivƒõj≈°√≠ vliv na mzdy ne≈æ na ceny potravin.*

---

## 5Ô∏è‚É£ Jak spustit projekt

1. **Naƒçti data** z p≈Øvodn√≠ch tabulek (poskytnut√© v r√°mci projektu).
2. **Spus≈• skripty** v adres√°≈ôi `/sql` v tomto po≈ôad√≠:
   - `01_create_primary_final.sql`
   - `02_create_secondary_final.sql`
   - `Q1_price_trends.sql` a≈æ `Q5_gdp_influence.sql` podle pot≈ôeby.
3. **Prohl√©dni v√Ωsledky** ‚Äì ka≈æd√Ω skript pro ot√°zku vrac√≠ datovou sadu, kter√° odpov√≠d√° na v√Ωzkumnou ot√°zku.
4. **P≈ô√≠padnƒõ selectuj p≈ô√≠mo odpovƒõdn√≠ tabulky** - viz datab√°ze - t_ondrej_romaniuk_project_sql_qx_xxxxx_xxxxxx

---

## 6Ô∏è‚É£ Pozn√°mky k dat≈Øm
- Nƒõkter√© roky neobsahuj√≠ kompletn√≠ data pro v≈°echny kategorie potravin - "Jakostn√≠ v√≠no b√≠l√©" s k√≥dem 212101 bylo za celou ƒçasovou ≈ôadu zachyceno pouze 4x.         Ostatn√≠ potraviny 13x.
- V≈°echny ceny jsou v Kƒç, mzdy jsou pr≈Ømƒõrn√© mƒõs√≠ƒçn√≠ hrub√©.

Bƒõhem anal√Ωzy se uk√°zalo, ≈æe v tabulce czechia_payroll existuj√≠ z√°znamy, kter√© obsahuj√≠ platnou hodnotu (value), ale u p≈ô√≠slu≈°n√©ho odvƒõtv√≠ (industry_branch) je hodnota NULL.
Tyto z√°znamy odpov√≠daly nekategorizovan√Ωm dat≈Øm nebo spadaly do defaultn√≠ kategorie ‚Äûostatn√≠‚Äú. Proto≈æe ne≈°lo jednoznaƒçnƒõ urƒçit, ke kter√©mu odvƒõtv√≠ pat≈ô√≠, byly z anal√Ωzy vynech√°ny.
D≈Øvodem je, ≈æe zahrnut√≠ takov√Ωch z√°znam≈Ø by mohlo zkreslit v√Ωsledky srovn√°n√≠ jednotliv√Ωch odvƒõtv√≠, a z√°rove≈à by jejich p≈ô√≠tomnost neumo≈ænila smyslupln√© interpretace.

---

## 7Ô∏è‚É£ Autor
**Jm√©no:** *Ond≈ôej Romaniuk* 
**Datum:** *08/2025*
**Kontakt:** *[LinkedIn](https://www.linkedin.com/in/ond%C5%99ej-romaniuk/) / [GitHub](https://github.com/OndrejRomaniuk)*

